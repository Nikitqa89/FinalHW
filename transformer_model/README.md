# ü§ñ Telegram Poet Bot

Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—ç–∑–∏—é –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–∞—Å—Ç–æ–º–Ω—É—é GPT-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω—É—é —Å –Ω—É–ª—è –Ω–∞ –ø–æ—ç—Ç–∏—á–µ—Å–∫–æ–º –∫–æ—Ä–ø—É—Å–µ.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project_root/
‚îú‚îÄ‚îÄ telegram_bot/            # –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç (aiogram)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py          # –ü—É—Å—Ç–æ–π, –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ bot.py               # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ transformer_model/       # –ú–æ–¥–µ–ª—å –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py          # –ü—É—Å—Ç–æ–π, –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ model.py             # GPT-–º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ generate.py          # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ preprocess.py        # –û—á–∏—Å—Ç–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ train.py             # –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ data.txt             # –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è (–ø—Ä–∏–º–µ—Ä –º–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
‚îÇ   ‚îú‚îÄ‚îÄ data_prepared.pt     # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ—è–≤—è—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ preprocess)
‚îÇ   ‚îî‚îÄ‚îÄ best_model.pt        # –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å –ø–æ val loss (–ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)
‚îÇ
‚îú‚îÄ‚îÄ config.py               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—É—á–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ .env                    # –¢—É—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –í–∞—à —Ç–æ–∫–µ–Ω
```

---

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install torch aiogram numpy matplotlib python-dotenv
```
---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏

- n_embd - –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ (token –∏ position)
- n_head - –ö–æ–ª-–≤–æ –≥–æ–ª–æ–≤ –≤ Multi-Head Attention
- n_layer - –ö–æ–ª-–≤–æ –±–ª–æ–∫–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞
- dropout - Dropout –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏
- –û—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ GPT: Multi-Head Attention + FeedForward + LayerNorm

---

## üåê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—ç—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏:
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è top-k sampling
- temperature —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
- `<EOS>` ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ç—Ä–æ—Ñ—ã

---

## üíº Telegram-–±–æ—Ç

–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ [aiogram 3.x]. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã:

- `/start` ‚Äî –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥
- `/set temperature=0.8 top_k=10` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `/params` ‚Äî —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `/stanza` ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ—Ñ—É

---

## üîß –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ—Ä–ø—É—Å–∞: —á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞, —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ—Ñ–∞–º (`<EOS>`)
- –û–±—É—á–µ–Ω–∏–µ –ø–æ `train.py` —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º `best_model.pt`
- –î–µ–ª–µ–Ω–∏–µ –Ω–∞ train/val: **—Å–ª—É—á–∞–π–Ω–æ–µ**, —Å –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–ª–∏–Ω–æ–π `block_size`
